<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>CAE Training Management System</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Material Design Bootstrap -->
    <link rel="stylesheet" href="css/mdb.min.css">
    <!-- DataTables.net -->
    <link rel="stylesheet" type="text/css" href="js/vendor/datatables/css/dataTables.bootstrap4.min.css"/>
    <!-- Stepper CSS - minified-->
    <link href="css/addons-pro/steppers.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <style>

    </style>
    <!-- JQuery -->
    <script type="text/javascript" src="js/jquery-3.4.0.min.js"></script>
</head>

<body class="fixed-sn light-blue-skin">
<!--Main Navigation-->
<header>
    <!-- Sidebar navigation -->
    <div class="includeHtml" id="h-nav_left"></div>
    <!-- Navbar -->
    <div class="includeHtml" id="h-nav_top"></div>
</header>
<!--Main layout-->
<main>
    <div class="container-fluid">
        <!--Section: Intro-->
        <section class="">
            <div class="row">
                <div class="col-xl-3 col-md-6">
                    <div class="card card-cascade cascading-admin-card">
                        <div class="admin-up">
                            <i class="fa fas fa-plane-arrival success-color-dark z-depth-4"></i>
                            <div class="data">
                                <p>TOTAL CLIENT</p>
                                <h4 class="font-weight-bold dark-grey-text">8</h4>
                            </div>
                        </div>
                        <div class="card-body card-body-cascade mb-2">
                            <p class="card-text">Total Active Client</p>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-md-6">
                    <div class="card card-cascade cascading-admin-card">
                        <div class="admin-up">
                            <i class="fa fas fa-chalkboard-teacher primary-color z-depth-4"></i>
                            <div class="data">
                                <p>TOTAL INSTRUCTOR</p>
                                <h4 class="font-weight-bold dark-grey-text">43</h4>
                            </div>
                        </div>
                        <div class="card-body card-body-cascade mb-2">
                            <p class="card-text">Total Active Instructor</p>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-md-6">
                    <div class="card card-cascade cascading-admin-card">
                        <div class="admin-up">
                            <i class="fa far fa-chalkboard warning-color z-depth-4"></i>
                            <div class="data">
                                <p>TOTAL COURSE</p>
                                <h4 class="font-weight-bold dark-grey-text">20</h4>
                            </div>
                        </div>
                        <div class="card-body card-body-cascade mb-2">
                            <p class="card-text">Total Active Course</p>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-md-6">
                    <div class="card card-cascade cascading-admin-card">
                        <div class="admin-up">
                            <i class="fa fas fa-book-open red accent-2 z-depth-4"></i>
                            <div class="data">
                                <p>TOTAL SUBJECT</p>
                                <h4 class="font-weight-bold dark-grey-text">123</h4>
                            </div>
                        </div>
                        <div class="card-body card-body-cascade mb-2">
                            <p class="card-text">Total Active Subject</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--Section: Notification panel-->
        <section class="mt-4 mb-4 sectionJbtMain">
            <div class="alert alert-danger" role="alert">
                <h4 class="alert-heading"><i class="fa fas fa-bell"></i>&nbsp;&nbsp; Notification!</h4>
                <p>You have <strong>3 pending tasks</strong>. Please click on the button below to take action.</p>
                <hr>
                <p class="mb-0">1. Instructor <strong>'Maisarah bin Ali'</strong> license will be expired in 7 days <button class="btn btn-sm btn-warning" onclick="tambahAcara(0);">Manage <i class="fas fa-user-tie ml-1"></i></button></p>
                <p class="mb-0">2. Instructor <strong>'Hassan bin Abdul Talib'</strong> submitted 1 day leave <button class="btn btn-sm btn-dark-green" onclick="tambahAcara(1);">Approve <i class="fas fa-check ml-1"></i></button></p>
                <p class="mb-0">3. New Course Booker received from <strong>'Air Asia Indonesia'</strong> <button class="btn btn-sm btn-danger" onclick="tambahAcara(2);">Details <i class="fas fa-file-signature ml-1"></i></button></p>
            </div>
        </section>

        <section class="mb-5">
            <div class="row">
                <div class="col-md-6">
                    <div class="view view-cascade z-depth-4">
                        <div id="divChart" style="height: 450px; margin: 0"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="view view-cascade z-depth-4">
                        <div id="divChartLeaveByStatus" style="height: 450px; margin: 0"></div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="includeHtml" id="h-modal_change_password"></div>
</main>

<!-- SCRIPTS -->
<script type="text/javascript">
    $('.includeHtml').each(function () {
        const divId = $(this).attr('id');
        $('#'+divId).load('html/'+divId.substr(2)+'.html?' + new Date().valueOf());
    });
</script>

<!-- Bootstrap tooltips -->
<script type="text/javascript" src="js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="js/bootstrap.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="js/mdb.js"></script>
<!-- DataTables.net -->
<script type="text/javascript" src="js/vendor/datatables/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/dataTables.bootstrap4.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/buttons.html5.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/buttons.print.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/jszip.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/pdfmake.min.js"></script>
<script type="text/javascript" src="js/vendor/datatables/js/vfs_fonts.js"></script>
<!-- Highchart -->
<script type="text/javascript" src="js/vendor/highcharts/highcharts.js"></script>
<script type="text/javascript" src="js/vendor/highcharts/modules/exporting.js"></script>
<script type="text/javascript" src="js/vendor/highcharts/modules/export-data.js"></script>

<!--Custom scripts-->
<script type="text/javascript">
    document.write('<scr' + 'ipt src="js/common.js?' + new Date().valueOf() + '" type="text/javascript"></scr' + 'ipt>');

    let versionLocal;
    let changePasswordClass;

    document.addEventListener('DOMContentLoaded', function () {

        ShowLoader();
        setTimeout(function () {
            try {
                initiatePages();
                versionLocal = mzGetDataVersion();
                changePasswordClass = new ModalChangePassword();

                const chartData = [
                    {name: 'Active', y:32, color:'green'},
                    {name: 'On-leave', y:2, color:'red'}
                ];

                Highcharts.chart('divChart', {
                    chart: {
                        type: 'pie'
                    },
                    title: {
                        text: 'Total Instructor by Status'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.y} ({point.percentage:.1f}%)</b>'
                    },
                    credits:{
                        enabled:false
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.y}'
                            }
                        }
                    },
                    series: [{
                        name: 'Status',
                        data: chartData
                    }]
                });

                const chartData2 = [
                    {name: 'Super Administrator', y:1},
                    {name: 'Scheduler Office', y:12},
                    {name: 'Instructor', y:143},
                    {name: 'Trainee', y:1232}
                ];

                Highcharts.chart('divChartLeaveByStatus', {
                    chart: {
                        type: 'pie'
                    },
                    title: {
                        text: 'Total User by Role'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.y} ({point.percentage:.1f}%)</b>'
                    },
                    credits:{
                        enabled:false
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.y}'
                            }
                        }
                    },
                    series: [{
                        name: 'Role',
                        data: chartData2
                    }]
                });
            } catch (e) {
                toastr['error'](e.message, _ALERT_TITLE_ERROR);
            }

            HideLoader();
        }, 300);
    });

    document.write('<scr' + 'ipt src="js/pages/modal_change_password.js?' + new Date().valueOf() + '" type="text/javascript"></scr' + 'ipt>');

</script>